!function(){"use strict";function e(e){var t=document.getElementById(e.id),n=window,o="",i=!1;if(t=document.getElementById(e.id)||t,!t)return void console.warn("元素id有误,请检查配置!");E(["px","em","%"],e.pos.unit)||(e.pos.unit="px"),"window"!=e.scroll&&(n=document.getElementById(e.scroll)||n),o=t.className;var a={elem:t,scrollElem:n,initClassName:o,timeout:i,options:e};b(e.namespace,a)}function t(e,n,o,i){if(g(e)){var a=T(e),r=a.scrollElem;o=o>0?o:.1,i=i||10;var s=w(r),c=f(r),l=1+o;r===window?r.scrollTo(Math.floor(s/l),Math.floor(c/l)):(r.scrollLeft=Math.floor(s/l),r.scrollTop=Math.floor(c/l)),s>0||c>0?setTimeout(function(){t(e,n,o,i)},i):"function"==typeof n&&n()}}function n(e){if(g(e)){var t=T(e),n=t.options,o=t.elem;if(n.bg.show&&n.animate.show&&!n.animate.own){if(document.getElementById("rtt-animate-css"))return;var i=document.createElement("link");i.id="rtt-animate-css",i.rel="stylesheet",i.type="text/css",i.href=n.animate.cdn,document.getElementsByTagName("head")[0].appendChild(i)}n.bg.show&&(o.innerHTML="")}}function o(e){if(g(e)){var t=T(e),n=t.options,o=t.elem,i=n.pos.unit,a=n.pos.top,r=n.pos.right,s=n.pos.bottom,c=n.pos.left,l=document.createElement("style");l.type="text/css",l.id=e+"-rtt-css";var u=["#",n.id,"{","position: fixed;","top: ",0===a?"":a,i,";","right: ",0===r?"":r,i,";","bottom: ",0===s?"":s,i,";","left: ",0===c?"":c,i,";","-webkit-transition: all 0.2s ease-in-out;","}","#",n.id,":hover{",y()?"":"cursor: pointer;","}","#",n.id,".active{","cursor: pointer;","}","#",n.id,".active{","display: block;","}","@media screen and (max-width: 800px) {","#",n.id,"{","top: ",0===a?"":a/2,i,";","right: ",0===r?"":r/2,i,";","bottom: ",0===s?"":s/2,i,";","left: ",0===c?"":c/2,i,";","}","}"].join("");n.bg.show&&(u+=["#",n.id,"{","width: 26px;","height: 62px;","background: url(",n.bg.dir,"/rocket.png) no-repeat 0 0;","}","#",n.id,":hover{",y()?"":"background: url(",n.bg.dir,"/rocket.png) no-repeat 0 -62px;","}","#",n.id,".active{","background: url(",n.bg.dir,"/rocket.png) no-repeat 0 -62px;","}"].join("")),l.innerHTML=u,document.getElementsByTagName("head")[0].appendChild(l),p(o,{display:"none"})}}function i(e){if(g(e)){var t=T(e),n=(t.options,t.scrollElem),o=t.timeout;n.addEventListener("scroll",function(){o&&clearTimeout(o),o=setTimeout(function(){var t=f(n);t>300?s(e):c(e)},1e3)})}}function a(e){if(g(e)){var n=T(e),o=n.options,i=n.elem,a=n.initClassName;y()&&(i.addEventListener("touchstart",function(t){u(e)||(i.className+=" active")}),i.addEventListener("touchend",function(e){i.className=a})),i.addEventListener("click",function(s){m(e)||(s.stopPropagation(),i.className=a+" rtt-btn-disabled",u(e)||(i.className+=" active"),o.bg.show&&(i.className+=" animated bounceOutUp"),setTimeout(function(){r(e),p(i,{display:"none"})},500),t(e,function(){i.className=n.initClassName}))})}}function r(e){var t=T(e);t.elem.className=t.initClassName}function s(e){if(g(e)){var t=T(e),n=t.options,o=t.elem,i=t.initClassName;l(e)&&(p(o,{display:"block"}),n.bg.show&&(o.className=i+" animated bounceInUp"),setTimeout(function(){r(e)},500))}}function c(e){if(!l(e)&&g(e)){var t=T(e),n=t.options,o=t.elem,i=t.initClassName;n.bg.show&&(o.className=i+" animated fadeOutDown"),setTimeout(function(){r(e),p(o,{display:"none"})},500)}}function l(e){if(g(e)){var t=T(e);if("none"!=t.elem.style.display)return!1}return!0}function u(e){return!!g(e)&&d(T(e).elem.className,"active")}function m(e){return!!g(e)&&d(T(e).elem.className,"rtt-btn-disabled")}function d(e,t){var n=new RegExp("(^|\\s)"+t+"(\\s|$)");return!!n.test(e)}function p(e,t){var n=e.style;for(var o in t)n[o]=t[o]}function f(e){return N(e)?e.scrollTop:h()}function w(e){return N(e)?e.scrollLeft:v()}function h(){var e=document.body.scrollTop,t=document.documentElement.scrollTop,n=window.scrollY;return Math.max(n,Math.max(e,t))}function v(){var e=document.body.scrollLeft,t=document.documentElement.scrollLeft,n=window.scrollX;return Math.max(n,Math.max(e,t))}function g(e){return!!window.returnToTop.namespace[e]}function b(e,t){g(e)||(window.returnToTop.namespace[e]=t)}function T(e){return window.returnToTop.namespace[e]}function y(){return"Win32"!=navigator.platform}function N(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}function E(e,t){for(var n=e.length,o=n-1;o>=0;o--)if(e[o]==t)return!0;return!1}function x(){var e={},t=arguments,n=t.length;if(!n)return{};for(var o=n-1;o>=0;o--)L(t[o],e);return t[0]=e,e}function L(e,t){for(var n in e)if(e.hasOwnProperty(n)){if(e[n]instanceof Object&&t[n]instanceof Object&&L(e[n],t[n]),t.hasOwnProperty(n))continue;t[n]=e[n]}}var M={namespace:"returnToTop",bg:{show:!0,dir:"images"},animate:{show:!0,own:!1,cdn:"http://cdn.bootcss.com/animate.css/3.5.2/animate.min.css"},pos:{unit:"px",top:0,right:100,bottom:80,left:0},id:"return-to-top",scroll:"window"},k={init:function(t){var r=x({},M,t);e(r),n(r.namespace),o(r.namespace),i(r.namespace),a(r.namespace)}};window.returnToTop=k,window.returnToTop.namespace={}}();